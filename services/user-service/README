# ğŸ‘¤ User Service

A lightweight and scalable **User microservice** built with **Node.js**, **Express**, and **MongoDB**, responsible for authentication and user management in a microservices architecture.

This service is designed as part of a larger distributed system and follows an MVP-focused, modular structure aligned with other services (e.g. Orders Service).

---

## ğŸ“Œ Responsibilities

- User registration (Signup)
- User authentication (Login)
- JWT-based authorization
- Providing secure identity management for other services

---

## ğŸ—‚ï¸ Service Structure

```
user-service/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ server.js              # Application entry point
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ auth.js            # Authentication routes
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ User.js            # User schema & model
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.middleware.js  # JWT authentication middleware
â”‚   â”‚   â””â”€â”€ error.middleware.js # Error handling middleware
â”‚
â”œâ”€â”€ .env                        # Environment variables
â”œâ”€â”€ Dockerfile                  # Container configuration
â”œâ”€â”€ package.json
â”œâ”€â”€ package-lock.json
â””â”€â”€ README.md


---

## ğŸ” Authentication Flow

1. User signs up with email & password
2. Password is securely hashed using **bcrypt**
3. User logs in with credentials
4. A **JWT token** is issued
5. Token is used to access protected routes

---

## ğŸŒ API Endpoints

### â¤ Signup

```

POST /api/auth/signup

````

**Request Body**

```json
{
  "username": "testuser",
  "email": "test@example.com",
  "password": "123456"
}
````

---

### â¤ Login

```
POST /api/auth/login
```

**Response**

```json
{
  "token": "JWT_TOKEN_HERE"
}
```

---

### â¤ Protected Route

```
GET /api/auth/protected
```

**Headers**

```
Authorization: Bearer <JWT_TOKEN>
```

---

## âš™ï¸ Environment Variables

Create a `.env` file in the root of the service:

```
PORT=4000
MONGO_URI=mongodb://localhost:27017/userdb
JWT_SECRET=your_secret_key
```

---

## â–¶ï¸ Running the Service (Local)

```bash
npm install
npm run dev
```

The service will be available at:

```
http://localhost:4000
```

---

## ğŸ§ª Testing

The service was tested using:

- PowerShell (`Invoke-RestMethod`)
- Postman

All authentication flows were validated manually.

---

## ğŸ§± Architecture Notes

- Each microservice owns its own database
- Stateless authentication using JWT
- Designed for containerization and orchestration (Docker & Kubernetes)
- Structure aligned with other services in the system for consistency

---

## ğŸ³ Docker Support

A Dockerfile is provided to containerize the service and run it in isolated environments.

---

## ğŸ“ Part of a Microservices System

This service is part of a larger **Large-Scale Microservices Project**, including:

- User Service
- Product Service
- Order Service
- Payment Service
- Notification Service
